# Changelog - Redis 续期服务

所有重要的变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)。

## [1.0.0] - 2025-11-24

### 新增

#### 核心功能
- **时间轮续期服务** - 基于 Netty HashedWheelTimer 的高性能调度引擎
- **异步执行器** - 独立线程池执行 Redis 续期，避免阻塞调度线程
- **Redis 客户端抽象** - 支持 Spring Data Redis，预留 SPI 扩展机制

#### 扩展点（26 种预置实现）
- **5 种 TTL 策略**：固定、动态、续期至指定时间、最大次数、条件判断
- **4 种间隔策略**：固定、指数退避、自适应、随机抖动
- **5 种 Key 选择器**：静态列表、模式匹配、前缀扫描、函数式、组合
- **6 种停止条件**：永不停止、时间截止、次数限制、Key 不存在、外部信号、组合
- **6 种中低频扩展**：失败处理器、生命周期监听器、过滤器、批量策略、Key 生成器、调度器

#### 易用性
- **3 个模板方法**：`fixedRenewal()`, `untilTime()`, `maxRenewals()`
- **Builder 模式** - 流式 API 构建续期任务
- **5 个完整示例** - 涵盖常见使用场景

#### 监控与可观测性
- **指标收集器** - 线程安全的续期指标统计
- **定时报告器** - 可配置间隔的指标日志输出
- **健康检查** - Spring Boot Actuator 集成

#### Spring Boot 集成
- **自动配置** - 零配置开箱即用
- **配置属性** - 完整的 YAML 配置支持
- **条件装配** - 支持禁用和自定义 Bean

### 性能指标
- 单任务续期延迟 < 100ms
- 支持 1000+ 并发任务
- CPU 占用 < 5%（1000 任务场景）
- 内存占用 < 100MB（1000 任务场景）
- 时间轮精度 ±50ms

### 测试覆盖
- 单元测试覆盖率 > 85%
- 集成测试覆盖主要场景
- 20+ 测试类，100+ 测试用例

## [未来计划]

### 待实现
- Jedis 客户端实现
- Lettuce 客户端实现
- Micrometer 指标集成
- 分布式协调（基于 Redis 分布式锁）
- 更多预置策略

### 改进
- 性能优化（批量续期优化）
- 更详细的文档和示例
- 监控面板集成

